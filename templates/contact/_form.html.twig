{{ form_start(form, { 'attr': {'class': 'row contact_form'} }) }}
    <div class="col-md-12">
        <div class="form-group">
            {{ form_errors(form.name) }}
            {{ form_label(form.name, 'Nom') }}
            {{ form_widget(form.name, { 'attr': {'class': 'form-control'} }) }}
        </div>
        <div class="form-group">
            {{ form_errors(form.email) }}
            {{ form_label(form.email, 'Email') }}
            {{ form_widget(form.email, { 'attr': {'class': 'form-control'} }) }}
        </div>
        <div class="form-group">
            {{ form_errors(form.phone) }}
            {{ form_label(form.phone, 'Téléphone') }}
            {{ form_widget(form.phone, { 'attr': {'class': 'form-control'} }) }}
        </div>
    </div>
    <div class="col-md-12">
        <div class="form-group">
            {{ form_errors(form.category) }}
            {{ form_label(form.category, 'Object') }}
            {{ form_widget(form.category, { 'attr': {'class': 'form-control'} }) }}
        </div>
        <div id="recaptcha"></div>
    </div>
    <div class="col-lg-12">
        <div class="form-group">
            {{ form_errors(form.message) }}
            {{ form_label(form.message, 'Message') }}
            {{ form_widget(form.message, { 'attr': {'class': 'form-control'} }) }}
        </div>
    </div>
    <button class="btn">{{ button_label|default('Envoyez') }}</button>
{{ form_end(form) }}
{% block javascripts %}
    <script src="https://www.google.com/recaptcha/api.js?render=6LdYnfEUAAAAAONE478R5hBUTtD3jvJiiON9vBZG"></script>
    <script>
        grecaptcha.ready(function() {
            grecaptcha.execute('6LdYnfEUAAAAAONE478R5hBUTtD3jvJiiON9vBZG', {action: 'homepage'}).then(token => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'g-recaptcha-response';
                input.value = token;
                document.getElementById('recaptcha').appendChild(input);
            });
        });
    </script>
{% endblock %}
